---
layout: post
title: 面试总结
category: Interview
date: 2020-08-11 22:1:00 +0800
tags: [面试]
---
一些iOS的面试记录

## 如何访问并修改一个类的私有属性

+ KVC
+ runtime

创建一个Father类,声明一个私有属性name,并重写description打印name的值,在另外一个类中通过runtime来获取并修改Father中的属性

```objc
#import <objc/runtime.h>

@interface Father : NSObject
@property(nonatomic, copy) NSString *name;
@end

@implementation Father

- (NSString *)description {
    return [NSString stringWithFormat:@"name: %@", _name];
}

@end

  @interface ViewController ()

@end

@implementation ViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    
    Father *father = [Father new];
    father.name = @"hey";
    NSLog(@"**%@", [father description]);
    //count记录变量数量，IVar是runtime声明的一个宏
    unsigned int count = 0;
    //获取类所有的变量
    Ivar *members = class_copyIvarList([Father class], &count);
    
    for (int i = 0; i < count; i++) {
        Ivar ivar = members[i];
        //将Ivar变量转化为字符串，这里获得属性名
        const char *memberName = ivar_getName(ivar);
        NSLog(@"==%s", memberName);
        
        Ivar m_name = members[0];
        //修改属性值
        object_setIvar(father, m_name, @"zhangsan");
        NSLog(@"[[%@", [father description]);
    }
}
 
@end
```

+ 结果

>**2020-08-11 22:50:52.448854+0800 Test[6178:13104159] \**name: hey**
>
>**2020-08-11 22:50:52.449109+0800 Test[6178:13104159] ==_name**
>
>**2020-08-11 22:50:52.449319+0800 Test[6178:13104159] [[name: zhangsan**



