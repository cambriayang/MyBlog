---
layout: post
title: 关于 iOS 打点那点事
category: iOS
date: 2017-03-19 23:10:00 +0800
tags: [业务处理]
---

## 什么是打点？
首先简单介绍下什么是打点以及打点有什么作用，打点英文其实就是 Record
作用其实就是对想要关心的业务或者关键路径进行记录上传到特定的服务器便于后期分析。

## 打点分类
为了解决前端埋点的准确性、及时性、开发效率等问题，业内各家公司从不同角度，提出了多种技术方案，这些方案大体上可以归为三类：

* 代码埋点：手动使用 recordEvent 等方式埋点
* 无痕埋点：使用 AOP 进行埋点
* 无埋点：全量上传埋点信息，开销太大

代码埋点是一种典型的命令式编程，因此埋点代码常常要侵入具体的业务逻辑，这使埋点代码变得很繁琐并且容易出错。因此，**最直接的做法就是将埋点代码与业务逻辑解耦**。

比如：
    
    if (isLoggedin) {
        [[ACYTracker instance] recordEvent:@{@"category":@"abc", @"action":@"login"}];
    }

这就是一个典型的代码埋点。当然这需要业务员在自己的代码逻辑中添加相应埋点，侵入原有代码，如果再由于这些埋点时间而导致一些crash就得不偿失了。


